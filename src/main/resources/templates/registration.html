<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layout/main_layout :: head"></head>

<body>

	<nav class="navbar navbar-light bg-light">
	  <a class="navbar-brand" th:href="@{/}">ShareExpensesApp</a>
	</nav>
	<div class="alert alert-success" th:if="${success!=null}" th:text="${success}"></div>
	<div class="alert alert-danger" th:if="${error!=null}" th:text="${error}"></div>
	<div class="alert alert-warning" th:if="${warning!=null}" th:text="${warning}"></div>
	<div class="alert alert-info" th:if="${info!=null}" th:text="${info}"></div>

	<div class="container py-4">
		<h2 class="text-secondary">Registrarse</h2>
		<form class="mt-5 mx-3" th:action="@{/registration}" th:object="${user}" method="post" enctype="multipart/form-data">
					<div class="form-group row">
						<label for="email" class="col-sm-2 col-form-label">Correo
							Electronico</label>
						<div class="col-sm-6">
							<input type="email" th:field="*{email}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small 
								class="form-text text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></small>
						</div>
					</div>

					<div class="form-group row">
						<label for="username" class="col-sm-2 col-form-label">Nombre
							de usuario</label>
						<div class="col-sm-6">
							<input type="text" th:field="*{username}" class="form-control"
								th:errorclass="'form-control alert-danger'" /> <small
								class="form-text text-danger"
								th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></small>
						</div>
					</div>

					<div class="form-group row">
						<label for="pass" class="col-sm-2 col-form-label">Contraseña</label>
						<div class="col-sm-6">
							<input id="pass" type="password" th:field="*{pass}"
								class="form-control" th:errorclass="'form-control alert-danger'" />
							<small class="form-text text-danger"
								th:if="${#fields.hasErrors('pass')}" th:errors="*{pass}"></small>
						</div>
					</div>

					<div class="form-group row">
						<label for="confirm_pass" class="col-sm-2 col-form-label">Confirmar
							contraseña</label>
						<div class="col-sm-6">
							<input id="confirm_pass" type="password" class="form-control" />
						</div>
					</div>
					<div class="form-group row">
						<div  class="col-sm-3 d-flex" style="flex-flow: column;">
							<label for="name" class="col-form-label">Imagen de perfil:</label>
							<img alt="Perfil" th:src="@{'/user/uploads/none.png'}" width="50%">
						</div>
						<div class="col-sm-5 d-flex align-self-center" style="flex-flow: column;">
							<input type="file" name="file" class="form-control" id="imgFile" />
						</div>
					</div>

					<div class="form-group row">
						<div class="col-sm-6">
							<input type="submit" value="Registrarse" class="btn btn-primary" />
						</div>
					</div>
		</form>
	</div>

	<script type="text/javascript">
		var password = document.getElementById("pass"), confirm_password = document
			.getElementById("confirm_pass");

		function validatePassword() {
			if (password.value != confirm_password.value) {
				confirm_password
					.setCustomValidity("Ingrese la misma contraseña");
			} else {
				confirm_password.setCustomValidity('');
			}
		}

		password.onchange = validatePassword;
		confirm_password.onkeyup = validatePassword;
	</script>
	<footer th:replace="layout/main_layout :: footer(~{::script})">
	<script type="text/javascript"></script>
	</footer>
</body>
</html>